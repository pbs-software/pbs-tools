PBStools Changes
==============================
Authors: RH  = Rowan Haigh
         NO  = Norm Olsen
         LL  = Lisa Lacko
         JTS = Jon T. Schnute
         PJS = Paul J. Starr
------------------------------

1.37.4 (2018-01-18)
  * Documentation
    + Updated `README.md' (MarkDown file) which appears on GitHub. (RH 180118)
    + Updated documentation file `plotLocal.Rd'. (RH 180118)
    + Added documentation file `plotEO.Rd'. (RH 180118)
  * M05_Spatial.r
    + Modified function `plotEO' to use temporary environments instead of .GlobalEnv. (RH 180118)
    + Modified function `preferDepth' to be more flexible. (RH 180117)
      - Specification of areas and years can now be grouped (e.g., major=3:4 treated as a single unit instead of two areas).
      - Added check box (labelled `grp') in GUI for grouping areas and/or years.
      - Plot label now shows data date range and total effort of the grey effort histogram.
      - The effort data file in data list `PBStool' is remembered during an R session even if GUI is re-created.
      - Getting effort on GUI start-up is no longer the default action in the function `preferDepth'.
    + Added new function called `plotEO' to plot the Extent of Occurrence of a species. (RH 180116)
      - Used primarily as a way to map a convex hull around species events, following the idea of COSEWIC's Extent of Occurrence.
      - Stray or mispecified coordinates can be removed in conjuction with the PBSdata object `locality.plus'.
    + Modified function `plotLocal' (RH 180116)
      - Changed argument `area' to accept an object istead of the object's name.
      - Added argument `strSpp' to add species name label (with data date range) to the plot.
      - Changed display label from top 3 to top 5 localities by catch.
      - Increased longitude range to include Bowie Seamount.
  * SQL code
    + Modified `fos_map_density.sql' to now collect fields `major', `minor', and `locality'. (RH 180116)
      - User can now cross-reference map file with `locality.plus' in PBSdata.

1.37.3 (2018-01-02)
  * M05_Spatial.r
    + Modified function `plotTertiary' to unlist a vector -- Rdev appears to treat subsetting DFs/marices differently than in released versions. (RH 180102)
  * SQL code
    + Modified `gfb_bio.sql' to indicate biological specimens with available fin and scale age structures, in addition to otoliths available. (RH 180102)
  * Documentation
    + Updated Rd file for revised `compBmsy' function. (RH 180102)
    + Removed old `index.html' in `.\inst\doc' and replaced with `Links.html' (RH 171221)
  * M06_Assessment.r
    + Hid call to `win.metafile' in `compBmsy' using `do.call' (RH 180102)
    + Updated `imputeRate' to calculate future value (FV) of a set of contributions/withdrawals. (RH 171210)
      - Final value today is the future value as seen from the first time period.
      - The fit is to the final point and the estimated trajectory is more like a NPV in reverse,
      -   i.e., the net present value of the historical asset.

1.37.2 (2017-11-30)
  * zzz.r
    + Updated `myboxplot.stats' to recognise a different set of quantiles if the object `quants5' exists in the user's work environment. (RH 171123)
  * M06_Assessment.r
    + Changed name of `meanAges' to `quantAges' to better reflect functionality. (RH 171130)
      - Added a list object `Qage' for output that collects the ages in lists used to construct the quantiles.
    + Added new function `meanAges' to plot quantile boxes of annual age distributions and mean age over time. (PJS/RH 171129)
    + Updated function `compBmsy' to show reference points (medians and 90% range) on all stock status boxes. (RH 171120)
    + This can be in place of or in addition to the vertical lines for the Model Average's median ref pts.
  * M08_LaTeX.r
    + Fixed bug in `formatCatch' -- in the `use.round' option, N had been inadvertently fixed to 3. (RH 171117)
  * M05_Spatial.r
    + Increased the functionality of `plotLocal' by adding new arguments. (RH 171101)
      - `pcat' (numeric) cumulative proportion of catch to identify and display;
      - `showAll' (logical) if TRUE, show all locality boundaries available;
      - `fid' (integer) specific set of fishery ID numbers to process
      - `fidtype' (character) default=``PBStools'', alternative=``GFFOS'' fishery types
      - `plot' (logical) if TRUE, plot the results;
      - `png' (logical) if TRUE, send the plot results to a PNG file;
      - `csv' (logical) if TRUE, send the output to a CSV file.

1.37.1 (2017-10-26)
  * M01_Utility.r
    + Added new function `readClog' to read a ChangeLog file and convert it to an R list. (RH 171025)
  * Documentation
    + Re-organised ChangeLog.txt for import to R as a list object. (RH 171025)
  * M08_LaTeX.r
    + Removed superfluous parameters (a,w) from a call to create `bigmess' in function `texArray'. (RH 170920)
  * M05_Spatial.r
    + Added new function `plotLocal' to plot DFO fishing localities with the highest catch. (RH 171019)
      - Primarily used to create CSV files for argument `refarea' in function `buildCatch'.
  * M07_BuildCatch.r
    + Updated code to handle arguments `refarea' and `refgear'. (RH 171019)
    + Changed name of function: `plotData' renamed `plotDiag'.  (RH 171012)
    + Added argument `run.name' to function `buildCatch' to create unique  directories to keep track of various configurations with gamma, delta, and reference choices. (RH 171012)
    + Changed output destinations for `buildCatch' to reflect input choice combinations; subdirectories to output directories are `figs', `tables', and `diags'.

1.37.0 (2017-09-08)
  * M06_Assessment.r
    + Moved function `compBmsy' from package PBSawatea to PBStools because we use it for all assessments now, including those generated by functions in package PBSddiff. (RH 170908)
  * M06_Temporal.r
    + Renamed module `M06_Temporal' to `M06_Assessment'. (RH 170908)
  * M02_Biology.r
    + Modified function `calcLW' to fix `xlim' and `ylim' if `strSpp' is `228' (WAP) or `439' (RSR). (RH 170830).
    + Updated function `calcVB' to test for `enough.points' and `enough.contrast' after removing high residuals (outliers), if this option is selected. (RH 170830)
  * M04_Survey.r
    + Updated function `showIndices' by adding an argument for plotting png files using a specified resolution. (RH 170829)
  * M01_Utility.r
    + Added data object `.colGnuplot' providing 8 `rather pleasant' gnuplot colours recommended by Jose Gama. (RH 170803)
    + \url{https://stats.stackexchange.com/questions/118033/best-series-of-colors-to-use-for-differentiating-series-in-publication-quality}
  * M08_LaTeX.r
    + Fixed bug in `texArray' where `tabalign' was being mis-specified. (RH 170801)
  * SQL queries
    + Updated query `gfb_catch_records.sql' (used by `getCatch' and `weightBio') to incldue depth and gear. (RH 170731)
      - Changed call in function `requestAges' to `gfb_catch_records.sql' from `gfb_gfb_catch.sql'.
      - Dicontinued duplication of `gfb_catch_records.sql' as `gfb_gfb_catch.sql' (duplication had ceased a while ago).
      - Deprecated query `gfb_gfb_catch.sql'.

1.36.1 (2017-07-27)
  * M02_Biology.r
    + Updated function `requestAges' to collapse trips with duplicated samples. (RH 170727)
  * SQL queries
    + Revised SQL scripts `gf_age_request.sql', `gfb_pht_catch.sql', and `gfb_fos_catch.sql' to use GFFOS on SQL Server. (RH 170726)
  * M08_LaTeX.r
    + Updated function `texArray' to italicise keywords (e.g., genus and species names) in a file if supplied to the function through new argument `italics.file'. (RH 170920)

1.36.0 (2017-07-19)
  * M02_Biology.r
    + Updated function `plotProp' with extensive revisions to the functionality of the GUI. (RH 170719)
    + GUI now invokes other GUIs to qualify data based on areas and code types available in the dataset.
    + Two new subfunctions: `.plotProp.chooseAreas' and `.plotProp.chooseTypes'

1.35.2 (2017-06-23)
  * Documentation
    + Forgot to change the version number (nuisance semantic versioning is manual)...
  * M02_Biology.r
    + Modified function `estOgive' to save plotting information if argument `plines=FALSE' -- useful for gathering output from multiple time periods. (RH 170620)
  * M03_Fishery.r
    + Modified function `plotConcur' to use GFFOS' `GF_MERGED_CATCH' table instead of PacHarvest + GFFOS' `GF_D_OFFICIAL_FE_CATCH'. (RH 170613)

1.35.1 (2017-02-20)
  * M07_BuildCatch.r
    + Modified function `buildCatch' to convert Anthony Island catch to 5C catch by changing major 9 to major 7 for this small region. (RH 170220)
  * SQL queries
    + Modified SQL query `fos_mcatORF.sql' to get longitude (X) and latitude (Y) values. (RH 170220)
    + Modified SQL queries `pht_fdep.sql' and 'pht_effort.sql' to use observer logs only;
      this matches the use of observer logs by `pht_concurrent.sql', which is run based on results from `pht_dfep.sql'. (RH 170125)
    + Modified SQL query `pht_concurrent.sql' to use gear through the gear argument in `getData' and PFMC minor area through the dummy argument,
      which is still not handled elegantly if the user does not specify a value, i.e., dummy=NULL. (RH 170124)

1.35.0 (2017-01-20)
  * M05_Spatial.r
    + Modified function `calcHabitat' slightly to better represent PNG files. (RH 170116)
    + Revised function `preferDepth' to focus on histogram area given user's depth limits ratehr than the whole water column. (RH 170116)
    + Revised SQl code `pht_effort.sql' to access GFFOS on SQL Server rather than Oracle's GFSH, which no longer exists. (RH 170116)
    + Modified function `plotGMA' to represent Walleye Pollock stock regions. (RH 170110)
  * M02_Biology.r
    + Modified function `calcLW' to subset on gear and to output better png files. (RH 161221)
    + Revised function `estOgive' to create higher resolution png files. (RH 161220)

1.34.2 (2016-12-14)
  * M02_Biology.r
    + Revised function `weightBio' to better deal with Level 1 and 2 weighting of props-at-age; also fixed a few bugs. (RH 161214)
    + Revised function `estOgive' to create a year field form date (thanks NO). (RH 161208)
    + Modified function `calcVB' to handle a few quirks with Alaskan Walleye Pollock data. (RH 161207)
  * SQL queries
    + Revised SQL query `pht_map_density.sql' to use GFFOS on SQL server. (RH 161205)

1.34.1 (2016-12-01)
  * M01_Utility.r
    + Added GFFOS to function `createDSN' as it's now an SQL database and not an Oracle one. (RH 161201)
    + Corrected a stupid mistake (mea culpa) in function `getData' in small preparatory calls to `.getSQLdata' using `server="GFDB"' instead of the correct `server=.PBSserver[1]'. (RH 161201)

1.34.0 (2016-11-28)
  * M01_Utility.r
    + Modified object `.PBSserver' to reflect new GF DB server called `DFBCV9TWVASP001' <199.60.94.30>; DFO phased out Windows 2003 servers. (RH 161128)
  * M04_Survey.r
    + Modified function `showIndices' to allow for a user-named output file for Awatea/ADMB output of indices. (RH 161117)
  * M02_Biology.r
    + Modified function `calcVB' so that von Bertalanffy estimation includes a sigma (error) parameter. (RH 161117)
  * M07_BuildCatch.r
    + Modified function `buildCatch' to keep track of landed catch by nation fleets instead of lumping them all together. (RH 161115)
    + Added a condition in `buildCatch' that if a user wants to use foreign fleet (FF) TRF landings, then he can only use reported RRF landings after the FF TRF landings have ended. (RH 161107)
  * M02_Biology.r
    + Fixed small bug in function `estOgive'. (RH 161027)
    + Fixed small bugs in function `mapMaturity'. (RH 161026)
  * M08_LaTeX.r
    + Modified functions `makeLTH' and `texArray' so that the user can choose whether or not to add `continued' messages on tables spanning pages. (RH 161024)
  * M02_Biology.r
    + Modified function `plotProp' to better represent the mean line through the bubbles and to allow better PNG output. (RH 161019)

1.33.0 (2016-10-19)
  * All R modules
    + Masked call to `win.metafile' using `do.call' to bypass R check. (RH 161019)
  * M08_LaTeX.r
    + Fixed small bugs in `texArray' and `mapMaturity'. (RH 161018)
    + Added new function `splitTab' to chop long data table into side-by-side pieces. (RH 161018)
  * M02_Biology.r
    + Updated functions `mapMaturity' and `estOgive' -- minor tweaks to output. (RH 161017)
  * M05_Spatial.r
    + Revamped function `calcStockArea' to modify a data file (by adding stock) rather than inputing separate vector arguments. (RH 161017)
  * M08_LaTeX.r
    + Changed function `collectFigs' to better render the figures on a page. (RH 161014)
  * M02_Biology.r
    + Changed function `weightBio' to provide output closer to that used by Awatea. (RH 161013)
    + Changed function `calcVB' to be more flexible with output and to parallel somwewhat the code in `calcLW'. (RH 160929)
    + Changed function name from `calcLenWt' to `calcLW' and updated it to deal with Walleye Pollock. (RH 160927)
  * SQL queries
    + Added SQL query `gfm_bigeffort.sql' to flag unusually large differences between start and end time of fishing events. (RH 160912)

1.32.1 (2016-09-21)
  * M06_Temporal.r
    + Modified function `imputeRate' to use future value calculations rather then net present values. (RH 160921)
  * M02_Biology.r
    + Modified function `processBio' to include stock areas using `calcStockArea', which was also slightly modified. (RH 160912)
  * SQL queries
    + Modified query `fos_mcatORF.sql' to add new field called `eff' calculated as the difference bewteen FE_START_DATE and FE_END_DATE in GF_MERGED_CATCH. (RH 160912)
    + Fixed a small bug in `gfb_bio.sql' for records that have ages but do not appear in the SPECIMEN_COLLECTED table. (RH 160803)

1.32.0 (2016-07-28)
  * M05_Spatial.r
    + Added new function `calcWAParea' to assign a stock area designation for Walleye Pollock using PMFC major and minor areas, a stratifying vector, and a weighting vector. (RH 160728)
    + Added new function `calcStockArea' to assign a stock area designation based on species HART code and PMFC major and/or minor areas. (RH 160727)
  * SQL queries
    + Modified queries `fos_mcatORF.sql' (incorrect gear specification), `gfb_mean_weight.sql' (added midwater -- gear type 6), and `meanSppWt.sql' (add Walleye Pollock -- code 228). (RH 160726)
    + Modified SQL query `pht_map_density.sql' to more correctly differentiate bottom and midwater trawl gear types. (RH 160719)

1.31.4 (2016-06-20)
  * M08_LaTeX.r
    + Fixed a small bug in function `texArray' where function `max' was used without specifying `na.rm=TRUE'. (RH 160620)
  * M01_Utility.r
    + Added new function `gatherVals' to gathers data from multiple columns into key-value pairs. (RH 160614)
      - Essentially a replacement function for tidyr::gather.
    + Modified function `installPkgs' by removing explicit `dependencies=TRUE'. (RH 160518)

1.31.3 (2016-05-04)
  * Miscellaneous scripts
    + Updated VBA code `ExportMail.vba' to only write new messages from PST folders to MDB tables. (RH 160504)
  * M02_Biology.r
    + Modified function `requestAges' (yet again) to better deal with multiple samples taken during a commercial trip. (RH 160502)
      - Aside: Use Norm's revised ageing request `PBS Ageing Request (No Sex 0 or 3).xltm' to choose only males and females.
    + Modified function `requestAges' to allow the user to specify a gear type. (RH 160427)
  * SQL queries
    + Modified query `gfb_age_request.sql' to select a gear gear type, if specified. (RH 160427)
  * M01_Utility.r
    + Modified function `getData' to specify a gear type (defaulting to 0:99). (RH 160427)

1.31.2 (2016-04-25)
  * Documentation
    + Updated the User's Guide to remove the three functions. (RH 160425)
  * M06_Temporal.r
    + Transferred functions `boxSeason', `plotDiversity', and `trackComp' from `PBStools' to `PBSplankton'. (RH 160425)

1.31.1 (2016-04-22)
  * Miscellaneous scripts
    + Added new script files. (RH 160422)
    + RmakePDF.bat -- Revised script to make R documentation appendices for User's Guides.
    + ExportMail.vba -- Visual Basic for Applications script to export folders from Outlook PST files to MS Access database tables.

1.31.0 (2016-04-13)
  * M01_Utility.r
    + Added new function `installPkgs' to install specified packages if they are missing or if newer versions are available. (RH 160413)

1.30.2 (2016-04-12)
  * Documentation
    + Updated `PBStools.Rd' and `SQLcode.Rd'. (RH 160412)
    + Updated `getData.Rd' to include `@INSERT' functionality in queries. (RH 160412)
  * Miscellaneous scripts
    + Updated some R scripts. (RH 160412)
  * SQL queries
    + Modified queries `fos_mcatORF.sql' and `fos_vcatORF.sql' to use `@INSERT('meanSppWt.sql')'. (RH 160412)
    + Added Norm's query `gfb_ageing_summary.sql' that was supposed to have been added on 2016-03-07. (RH 160412)
    + Updated Norm's Oracle query `fos_sectors.ora' to SQL Server `fos_sectors.sql'. (RH 160412)
  * M01_Utility.r
    + Fixed a small bug in `getODBC'. (RH 160412)
  * M02_Biology.r
    + Fixed a small but disruptive bug in `calcVB' where a degugging line (`browser()') had been left active. (RH 160411)
    + Revised function group `plotProp' to skip zeroes and NAs when connecting mean ages/lengths. (RH 160411)

1.30.1 (2016-03-29)
  * All R modules
    + Fixed examples that try to call 32-bit MDB drivers on 64-bit Windows -- `boxSeason.Rd', `calcMA.Rd', `listTables.Rd', `plotDiversity', `trackComp'. (RH 160329)
    + Fixed Codoc mismatches from documentation objects: `estOgive', `makeLTH', `requestAges', `texArray'. (RH 160329)

1.30.0 (2016-03-24)
  * M01_Utility.r
    + Added new function `quantBox' which essentially hijacks the code from `boxplot'. (RH 160324)
  * SQL queries
    + Added Norm's ageing datasheet summary query `gfb_ageing_summary.sql' for header information. (NO 160307)
    + Updated query `meanSppWt.sql' to include more species in virtual table. (RH 160307)
  * M08_LaTeX.r
    + Modified functions `makeLTH' and `texArray' to include struts in table headers. (RH 160127)
  * M02_Biology.r
    + Modified slightly function `calcVB'. (RH 160105)
    + Modified function `estOgive' to qualify on `scat' (SPECIES_CATEGORY_CODE, sort vs. unsorted) and to output multiple image files. (RH 151216)
    + Modified subfunction `adjustN' in function `requestAges'. (RH 151208)

1.29.1  2015-12-16
  * M02_Biology.r
    + Improved plot routine in `.plotProp.plotP (RH 151216)
  * M01_Utility.r
    + Added a new function `addStrip' that adds a vertical colour strip as a legend to plots like barplots. (RH 151201)
  * M07_BuildCatch.r
    + Fixed bug in function `plotRecon' to properly shade reconstruction backgrounds. (RH 151201)
  * Documentation
    + Virtualization of the Groundfish server SVBCPBSGFIIS. (NO 151130)
  * M08_LaTeX.r
    + Revised function `formatCatch' to deal with zero when it gets converted to `0.00000'. (RH 151113)
  * SQL queries
    + Revised `meanSppWt.sql' to include all thornyheads; forgot to post `pht_fdep.sql' last time. (RH 151112)

1.29.0  2015-10-28
  * M01_Utility.r
    + Revised function `getData' to allow insertion of SQL code from other files into an SQL file that specifies @INSERT('someCode.sql') (RH 151028)
  * SQL queries
    + Revised SQL files `pht_fdep.sql' and `pht_concurrent.sql' to INSERT `meanSppWt.sql' (new SQL file) and to use the GFFOS database on the SQL server. (RH 151028)
  * M03_Fishery.r
    + Very slightly modifed the function `plotConcur'. (RH 151028)
  * Documentation
    + Revised `buildCatch.Rd' documentation. (RH 150810)

1.28  2015-08-10
  * Documentation
    + Revised `buildCatch.Rd'. (RH 150810)
    + Set explicit `semantic' version in DESCRIPTION file ; JTS insists. (RH 150806)
  * M07_BuildCatch.r
    + Modified function `buildCatch' for assessment of Shortspine Thornyhead. (RH 150806)
  * SQL queries
    + Forgot to add modified queries `fos_mcatORF.sql' (2015-06-11) and `ph3_fcatORF.sql' (2015-06-16). (RH 150806)
    + Updated (and debugged) the SQL query `gfb_bio.sql', which had choked on species 442 aka Yelloweye Rockfish. (RH 150723)
  * Documentation
    + Fixed items flagged by Rcheck (defunct URLs, missing `zapSeamounts.Rd', imports_for_undefined_globals, codoc mismatches between Code and Docs) (RH 150720)
  * M05_Spatial.r
    + Updated function `findHoles' to be be more efficient and faster than previously using outer product concept. (RH 150717)
  * SQL queries
    + Updated query `pht_fdep.sql' to get depths from all fisheries in GFFOS. (RH 150716)

1.27  2015-06-15
  * Documentation
    + Last update to Google Code before transferring pbs-tools repository to GitHub. (RH 150615)
  * M07_BuildCatch.r
    + Updated `buildCatch' to incorporate PHMA's estimate of gamma for Yelloweye Rockfish caught by the Halibut fishery in 5ABCD. (RH 150615)
    + Modified extensively the function `buildCatch' to deal with issues arising from concerns by trawl and hook & line industry personnel that fish Yelloweye Outside. (TH 150521)
      - Introduced depth-stratified estimates of gamma and delta;
      - Allowed for exclusion of ORF landings by the foreign and Langara Spit experimental fisheries;
      - Modified queries to include depth information.
  * M02_Biology.r
    + Debugged `requestAges' and `getData' to properly get survey IDs and to calculate number of otoliths when trips contain multiple samples. (RH 150522)
  * SQL queries
    + Changed the call to six modern catch databases to use the single table `GF_MERGED_CATCH' from the `GFFOS' database via `fos_mcatORF.sql'. (RH 150414)
  * Documentation
    + Changed calls from `require' to `requireNamespace' as requested by CRAN's R check. Fixed othe R check issues. (RH 150306)
    + Revised functions and documentation for `weightBio' and `getCatch'. (RH 150305)
  * SQL queries
    + Added queries `gfb_iphc_skate_data.sql' and `gfb_iphc_set_data.sql' to get IPHC skate ad set data (2003-present) for AME to develop an IPHC survey index series. (RH 150304)
      - Note that 13 fields in the longline skate and set data overlap and there are 4 fields in each set that are not found in the other:
      - skates: c("FE_PARENT_EVENT_ID","FE_SUB_LEVEL_ID","FE_MINOR_LEVEL_ID","LGLSP_HOOK_COUNT")
      - setd  : c("START_LONGITUDE", "END_LONGITUDE", "START_LATITUDE", "END_LATITUDE")
    + Changed the name of `gfb_iphc_hooks.sql' to `gfb_iphc_hook_data.sql' to align with AME's data naming. (RH 150304)
    + Forgot to add update `gfb_catch_records.sql' (modified 140714) into the package. (RH 150303)
  * M07_BuildCatch.r
    + Modified `buildCatch' to exclude seamounts -- easier than doing it in all the queries. (RH 150219)
      - Reversed the changes to `fos_vcatORF.sql' made on 150218.
  * SQL queries
    + Changed SQL query `fos_vcatORF.sql' to exclude seamount catches. (RH 150218)
    + changed SQL query `pht_map_density.sql' to include a gear code. (RH 150106)
  * Documentation
    + Bumped up version for 2015.

1.26  2014-12-12
  * M07_BuildCatch.r
    + Fixed a bug (recently introduced -- Oct 2014?) in `buildCatch' that affected YYR reconstruction (first year for fid=4:5 is 1982 not 1956). (RH 141212)
    + Added query `gfb_jcatORF.sql' for `buildCatch' (forgot in subversion 31). (RH 141212)
    + Added new argument `dpath' to `buildCatch' specifying a database path for times when user wants to build alternative catch histories (in another directory) using data already queried. (RH 141209)
  * SQL queries
    + Added query `gfb_iphc_hooks.sql' to get IPHC hook data (2003-present) for AME to develop an IPHC survey index series. (RH 141017)
    + Modified various queries for `buildCtach' to return `locality' codes. (RH 141015)
  * M01_Utility.r
    + Modified function `getData' to handle subqueries for SQL account holders (no DFO credenntials, thanks Chris G). (RH 141007)
    + Modified function `showError' to keep track of when an error message is displayed on the device using `setPBSoptions("showError",TRUE)'. (RH 141007)
  * M07_BuildCatch.r
    + Added an option to calculate RRF/ORF (RRF/TRF) using the binomial-gamma. (RH 141002)
  * M02_Biology.r
    + Modified functions `weightBio' to recognise gear type and `texArray' to address a small bug and add custom column header labels. (RH 141002)
  * SQL queries
    + Modified query `fos_vcatORF.sql' to use calculated mean weights from GFBioSQL rather than calculating them from data in GFFOS. (RH 140908)
    + Added new query `gfb_mean_weight.sql' to calculate the mean weight of a fish species from GFBioSQL to convert discarded pieces to kg in GFFOS. (RH 140905)
      - Based on Paul Starr's algorithm.
  * M07_BuildCatch.r
    + Modified function `buildCatch' to incorporate species-specific catches not represented in the modern catch databases. (RH 140825)
      - Also added a new argument `useYR1' to specifying a starting year (one for each fishery) that credible landing data is available (e.g., 1967 for YTR, 1956 for POP).
  * M08_texCrap.r
    + Renamed module `M08_texCrap.r' to `M08_LaTeX.r'. (RH 140819)
  * M07_BuildCatch.r
    + Modified  function `buildCatch' to accept extra parameters through `...'; specifically to allow introduction of modified trawl ratios of RRF/TRF and RRF/ORF. (RH 140818)
      - These ratios form the first row of the function matrix object `gamma'.
      - PJS calculated reference ratios of YTR/TRF and YTR/ORF that exclude midwater trawls and use only the offshore localities withinn PMFCs rather than the entire PMFCs.
      - The alteration to `gamma' should only be a temporary measure; the code should calculate these variations automatically, if chosen, but will not be implemented right away.
  * SQL queries
    + Added new field to `gfb_bio.sql' query -- `narc' = NOT_AVAILABLE_REASON_CODE in table B05a_Specimen_Collected. (RH 140815)
  * M02_Biology.r
    + Modified functions `getCatch', `mapMaturity', `cacLenWt', `calcVB', `estOgive', `weightBio', `texArray', and `formatCatch' to further automate building CSAP RD's `Appendix D. Biology' using Sweave. (RH 8/13)
    + Updated functions `calcLenWt', `calcVB', `mapMaturity', and `estOgive'; can now yield user-defined output names for easier building of Sweave documents. (RH 140709)
  * M08_texCrap.r
    + Updated function `texArray', which had actually been revised in Aug 2013 but not incorporated into package. (RH 140709)
  * SQL queries
    + Updated SQL code `gfb_rcatORF.sql' to include `SVID' and `SSID` fields. (RH 140708)
  * M08_texCrap.r
    + Updated function `formatCatch' to deal with `cast_df' class objects. (RH 140708)
  * M02_Biology.r
    + Updated functions `calcLenWt' and `calcVB' for better visual output. (RH 140704)
  * M07_BuildCatch.r
    + Created new function `surveyCatch' to call query `gfb_rcatORF.sql' and produce a summary table of survey catch for a specified species. (RH 140703)
  * SQL queries
    + Modified the SQL query `gfb_bio.sql' to better identify Surevy Series ID (SSID) and to ignore Fishing Event IDs (FEID) that describe individual hooks and traps. (RH 140702)
    + Modified the SQL query `fos_vcatORF.sql' and the function `buildCatch' to use the SQL Server database GFFOS. (RH 140702)
  * M02_Biology.r
    + Modified the function `getCatch' to query the GFFOS database on the SVBCPBSGFIIS server. (RH 140624)
  * SQL queries
    + Modified four SQL queries called by `getCatch' -- `gfb_catch_records.sql', `gfc_catch_records.sql', `pht_catch_records.sql', `fos_catch_records.sql'. (RH 140623)
    + Updated SQL code to handle R-3.1.0's large-precision nonsense; specific files:
      - `fos_catch_records.sql', `gfb_bio.sql', `gfb_fos_catch.sql', `gfb_pht_catch.sql', `gfb_age_request.sql',
      - `pht_tcatORF.sql', `phhl_hcatORF.sql', `phhl_vcatORF.sql', `phhl_fcatORF.sql'.
    + Updated functions `glimmer' (pht_glm.sql) and `showIndices' (gfb_boot.sql) to handle R-3.1.0's new (and stupid) handling of large-precision numbers. (RH 140508)
  * All R modules
    + Wrapped calls to `win.metafile' with a call to `do.call' to avoid Rcheck NOTES about platform-specific devices. (RH 140414)
    + Imported `PBSmapping', `PBSmodelling', `PBSdat', and `RODBC' in NAMESPACE file, as per Rcheck instructions. (RH 140414)
      - (The message in R-exts.pdf: ``Packages declared in the `Depends' field should not also be in the `Imports' field'' must only pertain to the DESCRIPTION file.)
  * M02_Biology.r
    + Modified function `requestAges'. (RH 140127)
  * Documentation
    + Bumped up version for 2014.

1.25  2013-11-25
  * M04_Survey.r
    + Modified functions `showIndices' and `getBootRuns' to use survey series; also modified `gfb_boot.sql`. (RH 131125)
  * M02_Biology.r
    + Modified function `weightBio' to fix some small bugs. (RH 130822)
  * M08_texCrap.r
    + Added new function `texArray' to convert arrays, data frames and vectors into a two-dimensional longtable in LaTeX code. (RH 130821)
    + Created new module called `M08_texCrap.r' to house functions related to LaTeX manipulation and document creation. (RH 130820)
  * SQL queries
    + Added new SQL query `gfb_rcatORF.sql' to grab catch records for a species caught in Research/Surveys. (RH 130820)
  * M07_BuildCatch.r
    + Modified functions `buildCatch', `calcRatio', and `collectFigs' for Silvergrey Rockfish catch reconstruction. (RH 130719)
  * M02_Biology.r
    + Modified function `calcLenWt' to subset any type of area (e.g., `major', `PMFC', `GMA', etc.) if available in data object. (RH 130627)
  * M01_Utility.r
    + Added new function `getODBC' to get a list of the ODBC drivers on a user's Windows system. (RH 130626)
    + Modified function `.getSQLdata' to use the Oracle ODBC driver `Oracle in OraClient11g_home1' instead of `Oracle ODBC Driver`. (RH 130625)
      - User can still specify alternative SQL\Oracle drivers by passing, for example, `driver="Oracle ODBC Driver"' through the function `getData`.
    + Moved object `.PBSserver' form the `sql' directory to the `R' directory in `M01_Utility.r`. (RH 130508)
  * Miscellaneous scripts
    + Updated script `Rqpdf.bat' to utilize ghostcript's `gswin32c.exe' AND QPDF's `qpdf.exe', paralleling the process in tools::compactPDF. (RH 130508)
  * M01_Utility.r
    + Added two new functions to manipulate files: `countLines' and `subsetFile`. (RH 130508)
  * M02_Biology.r
    + Added a new argument `only.sql' to function `requestAges' to only get the database information (survey data, commercial and survey catch). (RH 130502)
  * Documentation
    + Updated User's Guide and vignette that build the User's Guide. (RH 130430)
  * Miscellaneous scripts
    + Added a small script called `qpdf.bat' in directory `inst/scripts' to compress PDF files (e.g., User's Guide). (RH 130430)
  * Documentation
    + Added a new directory `documentation' under `trunk' to mirror other PBS package repositories. (RH 130430)
    + Requires R-3.0.0 (RH 130429)

1.24  2013-04-04
  * M04_Survey.r
    + Fixed bug in function `trend' -- specifically in function `.trend.trendy' where object `ttlist' was created with `sapply' and `simplify' was NOT set to `FALSE`. (RH 130404)
    + Modified function `trend' -- fixed bugs, updated the GUI, added support for multiple image file formats. (RH 130403)
  * SQL queries
    + Modified SQL queries to Oracle via SQL Server using variable format `@~sppcode' rather than `@sppcode`; this inserts two single-quote delimiters rather than one. (RH 130320)
  * M07_BuildCatch.r
    + Modified function `buildCatch' to stitch together EPS barplot results using the function `collectFigs`. (RH 130315)
  * M01_Utility.r
    + Modified function `getData' to handle multiple species substitutions in SQL code that queries Oracle databases via OPENQUERY in SQL Server. (RH 130314)
  * M05_Spatial.r
    + Added new function `plotTertiary' to plot compositional data of n-dimensions into a polygonal shape with n sides. (RH 130313)
    + Modified function `clarify' to allow user to specify land mass colour. (RH 130312)
    + Added some new SQL queries to return catch data for cluster analysis via CLARA in the function `clarify`. (RH 130311)
    + Added function `plotTernary' to plot ternary diagrams of data that have been grouped into three categories. (RH 130307)
    + Modified function `plotGMA' to allow a bit more flexibility in adding extra labels. (RH 130226)
  * M02_Biology.r
    + Modified function `requestAges' to display random samples by storage ID (sample box : otolith tray) rather than by sample ID. (RH 130221)
      - The issue arose because in surveys recently, biologists have been taking many samples of few fish rather than few samples of many fish.

1.23  2013-02-14
  * M02_Biology.r
    + Modified function `requestAges' to deal with many samples where selected number of otoliths is less than 1. (RH 130214)
  * M06_Temporal
    + Debugged function `imputeRate' where control objects were out of focus. (RH 130201)
  * All R modules
    + Changed the package's general storage object from `PBSfish' to `PBStool`. (RH 130128)
  * M01_Utility.r
    + Introduced new argument `ioenv' (input/output environment) to functions that call `getFile' with its new argument `senv' (source environment). (RH 130128)
    + Finished wrapping examples in a local environment. (RH 130125)
    + Modified functions `getFile' and `getData' to use a source environment for objects. (RH 130125)
  * M04_Survey.r
    + Modified function `trend' to work in multiple environments. (RH 130124)
  * M05_Spatial.r
    + Added new function `prepClara' to prepare a data object for use by `clarify`. (RH 130121)
    + Modified function `clarify' to use species names in the legend label. (RH 130121)
  * All R modules
    + Debugged functions to finalise retro-fitting, at least enough to pass Rcheck (sans CRAN flag). (RH 130118)
  * M01_Utility.r
    + Modified functions `getData' and `getFile' to specify which environment the results should be sent to. (RH 130117)
  * All R modules
    + Retrofit the code to move the working list `PBSfish' to the working environment `.PBStoolEnv`. (RH 130117)
    + Uploaded an intermediate build. Problems exist because PBStools is highly entwined with PBSmodelling before the latter was retro-fitted with the new working environment `.PBSmodEnv.' (RH 130116)
    + Added a new working environment called `.PBStoolEnv`. (RH 130116)
  * M07_BuildCatch.r
    + Added function `collectFigs' to collect encapsulated postscript files into one document using latex. (RH 130116)
  * SQL queries
    + Added new query `pht_map_catch.sql' (modified slightly from `pht_map_density.sql`) to gather catch by GMU areas, in addition to PMFC areas. (RH 130114)
  * M05_Spatial.r
    + Modified function `clarify' to save figures as encapsulated postscript `.eps' files. (RH 130110)
  * M01_Utility.r
    + Modified function `getData' to recognise taxonomic groups. (RH 130110)
  * M07_BuildCatch.r
    + Modified 'buildCatch' to fix a bug in allocating catch from unknown areas to PMFC major areas. (RH 121121)
    + Further modified 'buildCatch' to finish diagnostic plots (using 'plotData') and to call 'plotRecon' for final output barplots. (RH 121120)
  * M02_Biology.r
    + Modified function 'requestAges' and SQL query 'gfb_age_request.sql' to deal with requests that span years with no grouping code. (RH 121115)
  * M07_BuildCatch.r
    + Added diagnostic plots to see data for catch reconstruction. (RH 121114)

1.22  2012-10-03
  * M07_BuildCatch.r
    + Added new function 'formatCatch' to format tables by transforming numeric values to strings that display significant digits. (RH 121003) 
    + Added new function 'makeLTH' to make longtable headers for printing xtables in Sweave. (RH 120927)
    + Revised function 'buildCatch' to exclude PacHarv3 1954-95 records for trawl and trap. (RH 120926)
  * M05_Spatial.r
    + Revised functions 'calcHabitat' and 'findHoles' to more flexibly zoom in on specified geographic limits. (RH 120924)
    + Modified functions 'preferDepth' and 'plotConcur' to allow postscript output. (RH 120919)
  * M01_Utility.r
    + Added a new function 'toUpper' to capitalise the first letter of each word in a phrase. (RH 120919)
  * M02_Biology.r
    + Modified function 'weightBio' to fix bugs and to allow postscript output. (RH 120830)
    + Modified function 'weightBio' to weight survey proportions by catch density (emulates survey design). (RH 120803)
  * SQL queries
    + Modified SQL code 'gfb_bio.sql' to grab additional fields 'SSID' (sample series ID), 'use' (trawl survey usability), 'dist' (distance in km that trawl tows net),
      - 'door' (doorspread in m), 'area' (survey stratum area), and 'density' (catch density = catch/(dist*door*0.001)).
      - Also change field names: 'group' -> 'GC' (survey grouping code) and 'Bwt' -> temp (bottom water temperature). (RH 120803)
  * M01_Utility.r
    + Disabled mapping in 'runModules' to avoid circularity in package requirements. (RH 120716)
  * Documentation
    + Disabled NOTES about 'no visible binding for '<<-'' by converting the assignment lines to evaluated text. (RH 120716)
    + Implemented Brian Ripley's suggestion to remove NOTES about 'no visible binding for global variable xxx':
      - if(getRversion() >= "2.15.1") globalVariables(names=c(...), package="PBSmapx") (RH 120716)
    + Submitted to CRAN, but rejected by Dr. Brian Ripley. (RH 120713)
    + Added 'jss.bst' and 'jss.cls' to the 'vignettes' directory to enforce bibliography execution. (RH 120713)
  * M03_Fishery.r
    + Changed 'glimmer' argument 'dlim' to 'dbrks' to more easily convert continuous depths into zones. (RH 120711)
  * M01_Utility.r
    + Modified 'getData' to handle 'fqtName's created from a 'paste' command. (RH 120710)
  * Documentation
    + Finished UG for package 'PBStools' (RH 120705)
  * All R modules
    + Changed module names: (RH 120626)
      - M01_Utility  M02_Biology  M03_Fishery  M04_Survey  M05_Spatial  M06_Temporal  M07_BuildCatch
  * M06_Temporal
    + Tweaked margins in function 'trackComp'. (RH 120626)
    + Tweaked function 'imputeRate' to use '.getSpath' rather than '.setSpath'. (RH 120625)
  * M02_Biology.r
    + Modified function 'requestAges' to select specimens of a particular sex (e.g., females) (RH 120619)
    + Modified function 'weightBio' to handle samples with only one year. (RH 120613)
    + Modified function 'estOgive' to use the new labelling function 'flagIt'. (RH 120613)
  * M01_Utility.r
    + Added new function 'flagIt' to label a point using a diagonal line. (RH 120613)

## PBSfishery History
## ==================
1.21  2012-04-17  Authors
  * PBSdata
    + Removed data objects as they now reside in a separate package called 'PBSdata'. (RH 120417)

1.20  2012-02-27  Authors
  * PBSmapx
    + Added new argument `leg.font' to `par.map' to allow user to change the font parameter of the legend (still uses `mono' family). (RH 120227)
    + Wrapped the events information in the legend if minimum vessels/cell > 1. (RH 120227)
  * PBStools
    + Revised `requestAges' to allow argument `nfree' to select otoliths from samples with minimum number of otoliths. (RH 120227)
  * PBSmapx
    + Removed `GLOP' button from map GUI and added `GOP' (grid over plot) and `LOP' (land over plot) buttons. (RH 120223)
    + Added two new `par.map' values called `tit.loc' and `leg.loc' to give the user some control on title and legend placement - requested by Paul Starr. (RH 120221)
    + Added new button on map GUI called `par.map' to allow the user to see and change extra par values. (RH 120221)
    + Added small subfuction `.map.checkLims' to `M01_Map.r' to check that data limit GUI inputs are strictly increasing. (RH 120217)
  * PBStools
    + Added new SQL query `fos_checklist_catch.sql' to provide retained and discarded catches for DFO's checklist. (RH 120216)
    + Modified functions `trackComp', `plotDiversity', and `boxSeason' to use local files/objects if available. (RH 111205)
    + R-2.14.0 appears to implement windows buffering, which can screw the interactive nature of `map'.
      - Code now sets `windows.options(buffered=FALSE)' then resets it back to the user's original setting with an `onclose=.map.exit' in the GUI. (RH 111114)
    + Used `packageStartupMessage' rather than `cat' in `.onLoad' in `zzz.r'. (RH 111114)
    + Resaved the `.rda' data files using compress = "bzip2". (RH 111114)
    + Building PDF manuals (for R itself or packages, e.g. via R CMD check) by default requires the LaTeX package inconsolata. (RH 111114)

1.19  2011-11-09  Authors
  * PBStools
    + namespace requires the use of `.onLoad' instead of `.First.lib'. (RH 111109)
    + R-2.14.0 now requires all packages to have a namespace.  (RH 111109)
    + Aside: RH updated to Tortoise SVN 1.7.0 which means that the user now has only one .svn folder at the root of the project;
      - previously, each subfolder in the project contained a separate .svn folder. (RH 111013)
    + Revised function `requestAges' to get a pool of unaged fish identified by `SPECIMEN_SERIAL_NUMBER' from which to sample;
      - also expanded the user's choice of which field contains N fish to sample: `nfree', `ncalc', `nallo'. (RH 111012)
    + Revised SQL query `gfb_age_request.sql' to identify all potential container IDs. (RH 111006)
    + Added example SQL query `gfb_concat_rows_example.sql' to illustrate concatenating strings from multiple rows to one string that can be used for grouping. (RH 111006)
    + Added links to `SQLcode' in Rd files describing functions that use SQL queries. (RH 111005)
    + Added a new Rd file called `SQLcode.Rd' to summarise the SQL code available in the package. (RH 111004)
    + Added new function `trackBycat' to display the annual catch of fish groups from bottom or midwater trawls. (RH 111003)
    + Added new SQL query `gfb_bycatch.sql' to get the catch of fish groups from GFBioSQL not reported elsewhere. (RH 110929)
    + Revised SQL query `gfb_iphc.sql' to use regular GFBioSQL tables rather than a custom provisional table. (NO 110928)
  * PBSmapx
    + Revised legend rendering in `map' to display or hide the `Area (km²)' column. (thanks Jackie King). (RH 110926)
  * PBStools
    + Revised `gfb_age_request.sql' to identify broken and burnt samples. (RH 110921)

1.18  2011-09-15  RH
  * PBStools
    + Added new function `genPa' to generate proportions-at-age from the catch curve composition of Schnute & Haigh (2007). (RH 110915)
    + Added new function `scaleVec' to scale a vector to span a target minimum and maximum. (RH 110915)
    + Modified `gfb_age-request.sql' to report samples that have any otoliths collected (aged or not). (RH 110912)
    + Updated `pht_map_density.sql' and `gfb_bio.sql' (latter still had bug) to identify POP/YMR tows in the Cape St.James rectangle. (RH 110912)
    + Added small function `.su' which returns `sort(unique(x))'. (RH 110912)
    + Fixed small bug where the code did not recognise a change in the input file name `fnam'. (RH 110906)
    + Fixed a bug in `gfb_bio.sql' that was incorrectly determining whether (X,Y) occurred in the POP/YMR Cape St. James polygon (thanks Paul Starr). (RH 110901)
    + Revised SQL query `gfb_bio.sql' to report whether or not an otolith is collected for a specimen. (RH 110829)
  * PBSdata
    + Added new topo file `eez.bc' which outlines BC's 200-mile Exclusive Economic Zone. (RH 110727)
  * PBStools
    + Added new function `stdConc' to standardise a chemical concentration. (RH 110715)

1.17  2011-07-11  RH
  * PBStools
    + Edited a number of Rd files. (RH 110711)
    + Fixed bug in function `calcMA'. (RH 110707)
    + Updated Rd files (inserted equations `\eqn' and `\deqn', removed useless `\describe' tables). (RH 110620)
    + Added a short list of functions that appear coded in each module to the top of the module's file. (RH 110615)
    + Added new function `makeErrMat' which creates a simple, symmetric ageing error matrix for use as input to an Awatea model. (RH 110615)
    + Added new function `calcLenWt' which estimates a length-weight relationship using a linear fit in log-log space. (RH 110615)
    + Added new functions `dumpMod' and `dumpRat' which dump the catch from modern databases and the calculated catch ratios, respectively. (RH 110615)
    + Added new function `plotRecon' which produces barplots of the catch reconstruction stacked by PMFC catch. (RH 110615)
    + Added new functions `predictRER', `simRER', `simBSR' to implement Orr & Hawkins (2008) discriminant analysis. (RH 110614)
    + Tweaked function `imputeRate'; tightened limits on parVec for rate r. (RH 110613)
    + Fixed function `imputeRate', bug improperly computed internal rate of return. (RH 110610)
    + Revised `buildCatch' algorithm for the Tech Report. (110607)
    + Added new function `plotGMA' to plot Groundfish Management Areas (RH 110524)
  * PBSdata
    + R-2.13.0 has deprecated zip files in the data section. Now stores as the original `.rda' files.

1.16  2011-05-05  RH
  * PBStools
    + Fixed bug in function `calcMA'. (RH 110505)
    + Added new function `findHoles' to identify parent polygons and their holes. (RH 110421)
    + Revised function `calcHabitat' to deal with a bug in the PBSmapping function `joinPolys'. (RH 110421)
    + Revised `preferDepth' to specify a gear type (1=bottom, 3=midwater). (RH 110401)
  * PBSdata
    + Added new dataset `pjsa' that contains Paul Starr's unique locality codes for GLM analyses. (RH 110309)
  * PBStools
    + Revised function `glimmer' for better output (RH 110309)
    + Revised function `glimmer' to accept gear as a factor. (RH 110308)
    + Revised SQL queries `pht_glm.sql' and `fos_glm.sql'; added `gfc_glm.sql'. (RH 110308)
    + Revised function `crossTab' to properly handle situation with one `id.vars'. (RH 110301)
    + Modified function `buildCatch' to estimate ORF and POP in the very early years (1918-1952). (RH 110223)
    + Modified function `estOgive' to fit proportions-at-age to a double-normal curve. (RH 110221
  * PBSmapx
    + Modified `M01_Map' module (primarily `.map.map') to utilize `setPBSoptions' for greater control over par parameters. (RH 110106)
  * PBStools
    + Modified `convYfuns' to better detect date fields. (RH 101130)
    + Modified `gfb_bio.sql' to include PMFC, PFMA, PFMS, and GMA (groundfish management areas for POP/YMR). (RH 101119)
    + Modified `pht_map_density.sql' to include PMFC, PFMA, PFMS, and GMA (groundfish management areas for POP/YMR). (RH 101118)
  * PBSmapx
    + Modified `map' function and GUI to allow creation of encapsulated postscript files. (RH 101117)
  * PBStools
    + Modified SQL query `pht_map_density.sql', which now collects GFFOS catch-effort data in addition to that from PHT. (RH 101116)
    + Modified `imputeRate' to more accurately calculate the NPV of past contributions. (RH 101022)

1.15  2010-10-20  RH
  * PBStools
    + Renamed subfunctions to reflect parent function: e.g., .function.subfunction() (RH 101020)
      - completed: `preferDepth', `map', `imputeRate', `plotProp', `reportCatchAge', `runCCA', `trend'
    + Revised functions `plotConcur', `preferDepth', `weightBio'. (RH 101018)
    + Revised queries `pht_fdep.sql' and `pht_effort' to include trawl data from PacHarvest (1996-2007) and GFFOS (2007-current). (RH 101008)

1.14  2010-09-30  RH
  * PBStools
    + Revised function `plotConcur' to choose trawl type and dump results into a `.csv' file. (RH 101005)
    + Revised query `pht_concurrent.sql' to query and combine trawl data from PacHarvest and GFFOS. (RH 101005)
    + Revised queries `pht_bycatch.sql' and `fos_bycatch.sql'. (RH 101004)
    + Revised function `getData' to use a `dummy' variable for numerics or strings. (RH 101004)
    + Revised function `preferDepth' to speed up effort data retrieval. (RH 101004)
    + Revised queries `pht_fdep.sql' and `pht_effort.sql' to choose specific major areas. (RH 101004)
    + Added new queries `pht_bycatch.sql' and `fos_bycatch.sql' to get annual group catches. (RH 100930)
  * PBSdata
    + Revised the data object `species'. (RH 100929)
  * PBStools
    + Revised function `getData' to allow various species substitutions. (RH 100929)
    + Revised function `plotConcur' to show COSEWIC species in red. (RH 100928)
    + Revised function `preferDepth' properly place depth-of-median-catch triangle. (RH 100928)

1.13  2010-09-24  RH
  * PBStools
    + Revised functions `getData' and `plotConcur' to specify PMFC major area codes and top N selections. (RH 100924)
    + Revised SQL queries `pht_concurrent.sql' and `phhl_concurrent.sql' for use in `plotConcur'. (RH 100924)
    + Revised function `requestAges' to allow the user to specify particular trip IDs. (RH 100923)
    + Cleaned up comments in function `buildCatch'; removed `buildCatch' from `M03_Fishery.r' to stand alone. (RH 100921)
    + Revised function `glimmer' to handle specified depth breaks and bycatch. (RH 100913)
  * PBSdata
    + Revised `orfhistory' data object (very early ORF now 1918-1950, previously 1918-1955). (RH 100826)
  * PBStools
    + Add calls to the garbage collection function `gc' in `getData' and `getFile'. (ARK 100826)
  * PBSmapx
    + Made a slight revision to map caption. (RH 100826)
  * PBStools
    + Made a small revising to function `weightBio'. (RH 100823)

1.12  2010-08-17  RH
  * PBSmapx
    + Added a `GLOP' button (Grid Land Over Plot) to the map GUI. (RH 100817)
    + Modified event expansion in `.gevent' to speed up the tow blend option in the mapping routine. (RH 100817)
    + Modified map legend to indicate ranges more clearly (for big P). (RH 100816)
    + Modified mapping routine to create tow vectors with expansions appropriate to each event. (RH 100816)
    + Modified the mapping control GUI and code to accommodate the big P (Paul Starr that is). (RH 100810)
      - Bug fixes:
      - The blended tow option now keeps track of fishing events, not expanded events.
      - The user can now choose between two blending options:
      - Uniform - spreads Z evenly across expanded intervals, and
      - Normal  - spreads Z across expanded intervals using a normal distribution (i.e. more Z in the middle).
      - The quantile breaks now have two options `Qhi' to emphasize hotspots and `Qeq' to break the data evenly.
      - The quantile breaks with be loosened if break points are duplicated.
      - There is now a quick re-colouring option for tows, bubbles, and cells.
  * PBStools
    + Fixed small bug in functions `calcVB' and `calcSG'. (RH 100809)

1.11  2010-08-06  RH
  * PBStools
    + Modified function `buildCatch' to use the new query `fos_vcatORF.sql' rather than `fos_fcatORF.sql'. (RH 100806)
    + Modified query `pht_tcatORF.sql' to collect the set 999 catches. (RH 100806)
    + Added new function `crossTab' to perform a crosstab-like summary on a data frame using the package `reshape'. (RH 100806)
    + Created new query `fos_vcatORF.sql' for the catch reconstruction function `buildCatch'. (RH 100805)
      - This query uses the merged catch table `GF_D_OFFICIAL_FE_CATCH'.
      - The previous call to FOS `fos_fcatORF.sql' used the observer/fisherlog catch table `GF_FE_CATCH'.
    + Revised function `weightBio' to weight survey data (RH 100804)
    + Revamped the SQL query `gfb_catch_records.sql' (and its mirror `gfb_gfb_catch.sql') 
      - to correctly allocated survey IDs and grouping codes to fishing events. Thanks NO. (RH 100727)
    + Updated `getData' to handle survey IDs and survey series IDs. (RH 100727)
    + Temporarily added modified function `plotBubbles' from PBSmodelling for testing. (RH 100723)
    + Modified `getCatch' to also retrieve survey catch from GFBioSQL (used in `weightBio'). (RH 100722)
    + Modified `getData' to accept additional arguments through `...' that are passed to RODBC's `sqlQuery'. (RH 100722)

1.10  2010-07-19  RH
  * PBStools
    + Fixed minor bug regarding the behaviour of `missing' in `buildCatch'. (RH 100719)
    + Revised `buildCatch' and `orfhistory' to deal with early (1918-1950) catch data. (RH 100713)
    + Added query `phhl_districts' to determine the PMFC major areas in Districts I, II, III based on 1951-1952 red rockfish catch data. (RH 100713)
  * PBSmapx
    + Updated `map' to create files reflecting date range, depth range, and fishery IDs. (RH 100709)
    + Created `phhl_f_map_density.sql' query to use in mapping CPUE density. (RH 100706)
    + Altered the way large data files (e.g., Mfile, Qfile) are written to the global object `PBSmap'.
      - Using `packList' is very slow for some reason (flag for PBSmod). Used the direct write `<<-' method to populate the global list. (RH 100706)
    + Debugged some of the mapWin GUI buttons due to some unknown change in PBSmodelling scoping behaviour. (RH 100706)
    + Revised `map' and it's GUI to include the selection of a fishery type. (RH 100706)
  * PBStools
    + Created `pht_map_density.sql' and `fos_map_density.sql' queries to use in mapping CPUE density. (RH 100705)
    + Revised `.getSQLdata' to re-query the connection using `rows_at_time=1' if resulting dataframe contains 0 rows. (RH 100628)

1.09  2010-06-24  RH
  * PBStools
    + Revised `requestAges' to sample stratified random otoliths from surveys. (RH 100625)
    + Revised `sumCatTabs' to use the `catmod' catch array from the catch reconstruction `buildCatch' (RH 100623)
    + Modified `buildCatch' to use a new argument called `reconstruct':
      - if TRUE (default) complete the reconstruction as previously,
      - if FALSE, terminate the code once the modern catch array has been compiled and saved
      - (to a binary file `cat123mod.rda', where 123 = species code). (RH 100622)
    + Revised the queries `phhl_vcatch_fyear.sql', `phhl_fcatch_fyear.sql', `phhl_hcatch_fyear.sql' 
      - to mirror those used for the catch reconstruction. ( RH 100621)

1.08  2010-06-16  RH
  * PBStools
    + Revised `requestAges', `gfb_age_request.sql', `gfb_pht_catch.sql' and `gfb_fos_catch.sql'. (RH 100616)
    + Added new SQL queries `gfb_pht_catch.sql' and `gfb_fos_catch.sql' for use by `requestAges'. (RH 100611)
    + Revised `requestAges' to query  GFB, PHT, and FOS through the SQL server. (RH 100611)
    + Removed concept of reference major areas from `buildCatch' (never used, causes indexing problems). (RH 100610)

1.07  2010-06-09  RH
  * PBStools
    + Updated `Bootstrap2010.r' (see `surveys' branch). (RH 100609)
    + Added new arguments to `weightBio' for more flexibility on figure output. (RH 100607)
    + Added new function `runCCA' to run catch-curve analysis of Schnute & Haigh (2007). (RH 100603)
    + Revised `plotProp' to work more consistently with other applications in the making. (RH 100531)
    + Revised `weightBio' to handle commercial and/or survey samples; fixed scaling of multi-panel bubble plots. (RH 100528)
    + Revised `buildCatch' to use SQL queries in the package repository. (RH 100527)

1.06  2010-05-26  RH
  * PBStools
    + Transferred `buildCatch' and `orfhistory' from a branch into the trunk. (RH 100527)
    + Revised `weightBio' to save results in a list `PBSfish' and to fix a bug introduced by the new `write.csv' function. (RH 100526)
    + Added new function `getCatch' to extract catch records for a species from various databases and combine them into one catch file. (RH 100526)
    + Revised `plotFOScatch' and `requestAges' to use the Oracle server `GFSH' instead of `ORADEV'. (RH 100526)

1.05  2010-05-25  RH
  * PBStools
    + Altered any calls to `getFile' from other functions as needed. (RH 100525)
    + Revised `getFile's handling of package data. (RH 100525)
    + Added new shortcut functions to get environments" `lenv' (local), `penv' (parent), `genv' (global). (RH 100525)

1.04  2010-05-17  RH
  * PBStools
    + Revised `calcRatio' to operate silently (handy when used in other functions). (RH 100521)
    + Revised `buildCatch' to view all modern database catches simultaneously and choose the maximum annual value. (RH 100520)
    + Revised `getFile' to ignore package `data' as the default (because function is used more often to get files from user's working directory). (RH 100520)
    + Revised `getData' to choose all fisheries if `fisheryid=NULL' or select specified fisheries. (RH 100517).
    + Modified SQL queries to select multiple fisheries. (RH 100517)
    + Revised the `buildCatch' routine to save some of the queried results and the PBSfish list to binary .rda files. (RH 100517)
    + Revised some of the phhl_ORF queries due to catch unit mix-ups. (RH 100513)
    + Revised remaining Rd files for format consistency. (RH 100510)
    + Revised Rd files alphabetically up to `isobath' for format consistency. (RH 100507)

1.03  2010-05-05  RH
  * PBStools
    + Added new function `calcSG' that fits length/weight vs. age data using a versatile Schnute growth model. (RH 100505)
    + Revised function `calcVB'. (RH 100505)
    + Restructured and renamed the parameter initialization value list from `parVec.vonB' to `parVec'. (RH 100505)
  * PBSdata
    + Added shapefile `pcoda' that outlines the Hecate Strait Pacific Cod Monitoring Survey areas. (NO 100429)
  * PBStools
    + Revised the catch reconstruction appendix (see branch `buildCatch'). (RH 100428)
    + Revised the code for `buildCatch.r' (see branch `buildCatch'). (RH 100427)

1.02  2010-04-22  RH
  * PBStools
    + Updated the User Guide. (RH 100422)
    + Revised `calcVB' to spit out fitted VB curves to a CSV file. (RH 100421)
    + Revised `calcVB' to allow fixing parameter t0 to 0 and to subset the data based on a set of years. (RH 100420)
    + Revised function `calcLenAge' and renamed it to `calcVB'; can now also fit weights-at-age. (RH 100419)
    + Revised the parameter vector object `parVec.vonB' to include `length' and `weight'. (RH 100419)
    + Revised description document `SQLcode.txt'.(RH 100406)
    + Fixed small bug in `boxSeason' to properly use range of years when some years are missing. (RH 100406)

1.01  2010-04-01  RH
  * PBStools
    + Modified SQL query `ph3_fcatORF.sql' to identify target species using gear code as the 4th dimension:
      - (STP_SPER_YR, STP_SPER_PERIOD_CDE, SFA_MSFA_MIDSIZE_FA_CDE, GR_GEAR_CDE). (RH 100401)
    + Modified NO's survey bootstrap code to work with PBSfishery. (NO-RH 100330)
      - Stored in new SVN branch called `surveys'.
    + Modified function `getData' to execute a direct SQL query to SQL Server or Oracle. (RH 100330)
    + Modified function `buildCatch'. (RH 100329)
    + Added new function `prime' to determine prime numbers from an input vector. (RH 100325)

1.00  2010-03-25  RH
  * PBStools
    + Started subversion numbering as done for other PBS package builds.
    + Created new function `prime' to identify the prime numbers in an integer vector.
    + Created new Oracle View `GFFOS.MEAN_SPECIES_WEIGHT_VW' on the GFSH server (NO 100324)
    + Revised SQL queries `fos_ pht_ gfc_catch_records.sql' to make objects with identical fields for easy merging.
    + Revised SQL query `fos_catch_records.sql' to use new table `GFFOS.GF_D_OFFICIAL_FE_CATCH' on the GFSH server.
    + Transposed grid dimensions for WDF where byrow=FALSE.

0.88  2010-02-10  RH
  * PBStools
    + Revised SQL queries `ph3_fcatORF.sql', `phhl_vcatORF.sql', and `phhl_hcatORF.sql' to better capture H&L landings of rockfish.
    + Added new function `requestAges' to grab random samples from available otoliths.
    + Added new SQL queries to summarise FOS catch and to get otolith samples for age requests.
    + Revised and renamed function `weightProp' to `weightBio'.
    + Forgot to upload code for v.0.87.

0.87  2010-01-07  RH
  * PBStools
    + Revamped function `calcRatio' to allow more flexibility in handling zero-values and specifying the summary function.
    + Added new function `weightProp' to weight commercial age proportions by catch.
    + Revamped the SQL queries used in catch reconstruction.
    + Modified function `convYP' to include a few attributes with the returned value.

0.86  2009-12-09  RH
  * PBStools
    + Modified `gfb_bio.sql' to identify all potential survey IDs `SVID' if they exist.
    + Fixed small bugs in functions `calcMA', `convYP', `plotFOScatch'.
    + Added new function called `sumCatTabs' to summarize catch by year and PMFC area
      - from modern catch input data used in catch reconstruction.

0.85  2009-11-12  RH
  * PBStools
    + First build under R-2.10.0
    + Added new function called `sumBioTabs' to summarize the number of samples and specimens in a biological object.
    + Modified `calcMA' to start collecting the moving average at the last observation and move backwards.

0.84  2009-11-10  RH
  * PBStools
    + Updated `PBSfishery-UG.doc' (thanks Brian for spotting typos).
    + Fixed bug in `getData' that was still using `mnwt' field from `species'; weight fields are now `foswt', `gfbcwt', `gfrwt'.
    + Fixed bugs in `calcLenAge', `compCsum', `estOgive', and `mapMaturity' regarding species selection (thanks Brian).
    + Changed all calls to `approx' to include the arguments `rule=2, ties="ordered"'.

0.83  2009-11-09  RH
  * PBStools
    + Added function `calcMA' to calculate a moving average of a series (usually time series).
    + Added function `fitLogit' to fit binomial data using `glm' and a logit link function.
    + Modified the function `estOgive' to perform both empirical and binomial-logit fits to maturity data.
    + Modified the function `histMetric' to allow various plot types `ptype'.

0.82  2009-11-02  RH
  * PBSdata
    + Updated data object `species' with all species from GFBIO and mean weights:
      - 'foswt' (from ratios of catch weight to pieces in FOS),
      - 'gfbcwt' (using weights samples from the commercial fishery), and
      - 'gfbrwt' (using weights sampled from research/charter cruises).
  * PBStools
    + Revised function `plotFOScatch' to handle revised `fos_catch.sql'. 
    + Streamlined SQL queries `fos_catch.sql' and `fos_fcatORF.sql'.
    + Added SQL queries `fos_fishwt.sql' and `fos_sectors.sql' (thanks NO for latter).

0.81  2009-10-22  RH
  * PBStools
    + Added queries for the PacHarv3 DB: `ph3_fcat.sql' and `ph3_orfhistory.sql'.
    + Modified SQL queries used in `calcCatch()' for catch reconstruction history (see separate branch in SVN).
    + Modified `getData' and `listTables' to better interact with DFO's Oracle databases.

0.80  2009-10-15  RH
  * PBStools
    + Added `fos_fcatORF.sql' to query FOS for species catch history with associated landed catch of other species.
    + Revised `getData' to gsub variables in SQL queries; added a few new arguments.
    + Revised the FOS catch records query.
    + Revised SQl queries `phhl_fcatORF.sql', `phhl_hcatORF.sql', `phhl_ocatORF.sql', `phs_scatORF.sql', `pht_tcatORF.sql'.
    + Fixed small bug in `getFile'; changed font size for sql error message in `getData'.

0.79  2009-09-17  RH
  * PBStools
    + Updated survey IDs in survey functions that used them.
    + Revised function `compCsum' to plot cumulative proportions-at-age instead of cumulative raw data.
    + Revised the SQL code files `pht_catORF.sql' and `gfb_bio.sql'.

0.78  2009-09-11  RH
  * PBStools
    + Added three new SQL queries to get ORF data from PacHarvHL.
    + Modified the function `calcRatio'.
    + Modified all GUIs and their functions to use `@variables' for `gsub'.

0.77  2009-08-21  RH
  * PBStools
    + Finished 1st draft of User's Guide.
    + Modified function `spooler' to more sensibly handle multiple list inputs.

0.76  2009-08-18  RH
  * PBStools
    + Finished documenting UG section on temporal functions.
    + Revised `imputeRate' to use a consistent IRR formula.

0.75  2009-08-14  RH
  * PBStools
    + Documented functions in UG: `makePMRtables', `simBGtrend', `trend'
    + Modified `trend' and its GUI `trendWin.txt'.
    + Documented functions in UG: `getBootRuns', `bootBG', `showAlpha'
    + Modified `gfb_pmr.sql'.
    + Changed name of function `calcIndices' to `calcMoments'. Modified the UG.
    + Started work on survey functions: modified `getPMR', `showIndices'; created small function `getBootRuns'.
    + Arranged functions in new modules that mirror the documentation chapters.
    + Finished the `Spatial Functions' section of the User's Guide.
    + Fixed small bug in `getData()'
    + Added new function `calcRatio' to calculate ratios of catch (e.g., discard:catch, catch:ORF).
    + Modified functions `preferDepth', `zapHoles'.

0.74  2009-07-31  RH
  * PBSmapx
    + Fixed small bug in `map' : `getFile' missing new argument `try.all.frames=TRUE' (thanks Jeff).
    + Fixed bug in `.map()' that crashed when the X,Y limits yielded no coastline (thanks Paul).
  * PBStools
    + Modified functions `calcLenAge', `histMetric', `histTail', `mapMaturity', `plotProp', `reportCatchAge'
      - 'glimmer', `plotCatch', `plotConcur', `calcHabitat', `calcOccur', `calcSurficial', `clarify'
    + Started working on a User's Guide.

0.73  2009-07-08  RH
  * PBStools
    + Updated examples for new data files.
  * PBSdata
    + Transferred the following data files from PBSdata to PBSfishery:
      - bctopo, bgcp, fos.fid, hsgrid, hsisob, isobath, locality, ltea, 
      - ltmose07, ltmose12, ltsa, ltsa.bad, ltxa, major, minor, pl230, pmfc, 
      - popa, qcb, qcsssa, rca, species, spn, srfa, srfs, trawlability, wcvisa

0.72  2009-06-30  RH
  * PBStools
    + Renamed `yearperiod()' to `convYP()'.
    + Extracted subfunctions from `plotFOScatch' to create `convFY()' (from `fyear') and `convYM()' (from `xvec').
      - The former converts dates to fishing years; the latter converts date limits into an expanded year-month character vector.
    + Revised `plotFOScatch()' to take an explicit user name and password.

0.71  2009-06-25  RH
  * PBSdata
    + Received permission from Bruce Leaman (IPHC, Seattle) to include sample datasets for three rockfish caught by the SSA survey.
      - Added an attribute called `source' to the IPHC datasets giving the IPHC mailing address.
  * PBStools
    + Added `password=T' to those GUIS with password entry boxes (thanks Alex!)
    + Revised `imputeRate' function and GUI. Switched to the internal rate of return formula used in MS Excel.
    + Revised `listTables()' to include type="MDB" (Microsoft Access).
    + Revised `plotConcur()' to use either `PacHarvest' or `PacHarvHL'.
    + Added new SQL code `phhl_concurrent.sql' to get top 20 concurrent species in PacHarvHL.

0.70  2009-06-18  RH
  * PBStools
    + Added new function `isThere()' to detect if an object is physically in a specified environment.
    + Revised `getFile()' to deal with yet another `feature'.
    + Revised `.trendy()' more readily grab a static data object.
  * PBSdata
    + Removed non-essential columns and rows from datasets `testdatC', `testdatR', and `pop.age'.
  * PBStools
    + Revised `preferDepth()' function and GUI.
    + Revised the `plotProp' window description file.
    + Revised `processBio()' to process the biological file in blocks to speed computation
      - Note: large blocks sent to `findPolys()' when `addpopa=TRUE' cause routine to bog down.

0.69  2009-06-11  RH
  * PBStools
    + Added new function `plotDiversity()' to plot diversity indices of phytoplankton samples.
    + Revised functions `trackComp()' and `boxSeason()'.

0.68  2009-06-10  RH
  * PBStools
    + Added new function `trackComp()' to track composition of phytoplankton groups over time.
    + Added new function `yearperiod()' to transform dates into binned year-periods.
    + Added new function `plotConcur()' to plot concurrent species in tows.

0.67  2009-06-03  RH
  * PBStools
    + Overhauled the `reportCatchAge' functions and GUI.
    + Modified `showMessage()'.

0.66  2009-05-29  RH
  * PBSmapx
    + Ironed out small bugs in `map()' found by Jeff Fargo.
    + Added `excl 0' and `ex -ve' check boxes to display control.
      - (previously cells with zero or negative values were automatically not displayed.)

0.65  2009-05-28  RH
  * PBStools
    + Fixed small bug in `getFile()'.
  * PBSmapx
    + Revised the mapping module yet again (standardised field names in Mfile and Qfile, added view button to see unique tracked items).

0.64  2009-05-25  RH
  * PBSdata
    + Reduced dataset `pop.age' to represent slope rockfish areas 5AB and 5CD only.
  * PBSmapx
    + Altered map GUI to accommodate a tracking vector (primarily for Jeff Fargo).
    + Made small alteration to `map()' and `mapWin.txt' (to view R code and a sample SQL query).
  * PBStools
    + Transferred functions `clearRgui' and `focusRgui' to PBSmodelling as `clearRcon' and `focusRcon'.
  * PBSdata
    + Removed dataset: `copper' 

0.63  2009-05-12  RH
  * PBStools
    + Revised the functions in `trend()' of the `M02_IPHC.r' module; revised `trendWin.txt' GUI.
    + Revised function `showError()' to become `showMessage()'; `showError() is now a variant of `showMessage()'.
    + Revised functions `getName()' and `getFile()'
    - the latter tries to resolve named objects and actual objects by adopting `data()' argument specification, specifically `..., list=character(0)'.
    + Added new function `boxSeason()' in module `M99_Final.r' to summarize data by season using boxplots.
    + Cleaned up code for `reportCatchAge()' in `M06_ADMB.r'.
    + Revised `reportCatchAgeWin.txt' (GUI) to be smarter using recent PBSmodelling function `doAction()'.
    + Added recent updates (popqcs08.tpl, .dat, .pin) for catch-at-age analysis of POP in Queen Charlotte Sound (srfa 5AB + 5CD).

0.62  2009-05-01  RH
  * PBStools
    + Transferred function `clipVector()' from PBSfishery to PBSmodelling.
    + Modified function `showIndices()' to use `gfb_boot.sql' and to show indices from multiple surveys and indices that occur in the same year.
    + Added new SQL query `gfb_boot.sql' to get bootstrapped indices from NO's boot tables.

0.61  2009-04-21  RH
  * PBStools
    + Reorganised the `plotProp' GUI.
    + Renamed `propat()' to `plotProp()'.
    + Revised `preferDepth()' (it was bogging down due to returning large data sets).
  * PBSdata
    + Revised dataset `pop.age'.

0.60  2009-04-09  RH
  * PBStools
    + Revised `fos_catch.sql' to get minor & locality codes. Changed `plotFOScatch()' to properly sum catch given extra grouping levels.
  * PBSmapx
    + Revised `.map()' and `.fcell()' to use `colorRamp' within the functions.
      - (Something changed with the availability of `colorRamp' across environments.)
  * PBStools
    + Revised `.PBSserver' to include the new GF DB server `SVBCPBSGFIIS'.

0.59  2009-03-03  RH
  * PBStools
    + Revised `.PBSserver' to include NO's temporary server PAC03450\GFDB to reflect temporary server for the GF databases.
      - (current server address for generic named `GFDB' is now placed in position one of the `.PBSserver' vector.
    + Revised `.getSQLdata()' and `confODBC()' to handle server names with "\" embedded (who knew).
    + Removed `packList()' as this function was revised and added to PBSmodelling.
    + Inserted explicit name for the target list argument when calling `packList()'.
    + Removed most instances of `<<-', replaced with `assign'.

0.58  2009-01-14  RH
  * PBStools
    + Revised `gfb_bio.sql': new fields `hail' hail number, `temp' - bottom temperature;
      - 'date' was originally sample date, now either sample date if it occurs during the trip, or end of trip date if not.
  * PBSdata
    + Updated data object `pop.age'.
  * PBStools
    + Revised functions `getData()' and `glimmer()'.
    + Added new function `chewData()' that removes data frame records where factor categories are sparsely populated.

0.57  2008-12-17  RH
  * PBStools
    + Revised `zapDupes()' to more robustly handled columns of index participants.
    + Revised `getData()' to handle multiple species input (if sql wants it).
    + Added SQL queries `gfc_catch_records.sql' & `fos_catch_records.sql' to get species catch by tow (zero-catch records excluded).
    + Updated SQL query `pht_catch_records.sql'.
    + Added SQL queries: `fos_mean_weights.sql', `fos_fid_catch.sql'.

0.56  2008-12-01  RH
  * PBStools
    + Added SQL query `pht_catch_records.sql' to get species catch by tow (zero-catch records excluded).
    + Revised function `calcSRFA()' to handle NAs in fields `major', `minor', and `locality'.
    + Revised function `imputeRate()'.

0.55  2008-11-26  RH
  * PBStools
    + Revised function `compCsum()'.
  * PBSdata
    + Updated data object `pop.age'.
  * PBStools
    + Added NO's function `clearRgui()' (originally called `clear.screen').
    + Added NO's function `focusRgui()' (originally called `focus.r').
    + Added function `revStr()' (see examples in `base::strsplit').
    + Revised function `imputeRate()' and added test MDB `Account.mdb'

0.54  2008-11-20  RH
  * PBStools
    + Added function `compCsum()' to compare cumulative frequencies.
    + Added function `spooler()' to spool information directed by a list into a new field of an existing data frame.
    + Added function `imputeRate()' to impute the rate of return of an investment.

0.53  2008-11-12  RH
  * PBStools
    + Fixed small bug in `getData()'.
    + Revised `processBio()', `histMetric()', and `calcLenAge()'.
    + Added new function `biteData()' to subset a data matrix/frame using a vector object.
  * PBSdata
    + Updated data object `pop.age'.

0.52  2008-11-03  RH
  * PBStools
    + Modified `getData()' to accept SQL code with comments "--".
      - Also has new arguments `doors' (doorspread) and `speed' (vessel speed) for survey queries.
    + Added `gfb_survey_catch.sql', NO's query for getting survey catch and density by species.
    + Added `gfb_survey_stratum.sql', NO's query for getting survey stratum information.
    + Added NO's function `calcIndices()' to compute index values for species by stratum in specified surveys.

0.51  2008-10-02  RH
  * PBStools
    + Modified functions `getFile()', `bootBG()', `simBGtrend()' to iron out local environments.
    + Modified `plotFOScatch()' to display species name and sum the annual catches in `yrcat'.
    + Changed name of `odbcConf()' to `confODBC()'.

0.50  2008-10-01  RH
  * PBStools
    + Added function `getPMR()' to get (p, mu, rho) values from survey data on GFBioSQL.
    + Added function `calcPMR()' to calculate (p, mu, rho) values from a sample.
    + Added function `sampBG()' to sample from the binomial-gamma distribution.
    + Added function `bootBG()' to bootstrap binomial-gamma variates from (p, mu, rho) for each stratum.
    + Added function `bootBG()' to bootstrap binomial-gamma variates from (p, mu, rho) for each stratum.
    + Added function `showAlpha()' to show quantile confidence levels (alpha) for bootstrapped biomass.
    + Added function `simBGtrend()' to simulate a population projection based on prior binomial-gamma parameters.
    + Modified `getName()' and `getFile' (more parsing nonsense).

0.49  2008-09-25  RH
  * PBStools
    + Standardised `ChangeLog.txt' of PBS packages for viewing in HTML.
      - Header lines comprise:  version  date  builder
    + Added function `getName()' to get string names from an input argument.
    + Revised `getFile()' to use `getName()' and to get more than one file.
    + Added `showIndices()' to display bootstrapped survey biomass indices in NO's GFBioSQL tables.
    + Created new module (partitioning of R code) called `M07_Survey'.

0.48  2008-09-19  RH
  * PBSdata
    + Moved `fos.fid', `pmfc', and `species' from `PBSfishery' to `PBSdata'.
  * PBStools
    + Added function `wrapText()' to wrap and prefix long text strings (related to `presentTalk' project).
    + Added SQL query `gfb_mnwt.sql' to calculate the mean commercial weight of any/all species.
    + Added `SQLcode.txt' that contains a list of SQL queries available in .../library/PBSfishery/sql.

0.47  2008-09-16  RH
  * PBStools
    + Updated all code for comment consistency.
    + Added function `processBio()' to process the results from a call to `gfb_bio.sql'.
    + Added function `zapDupes()' to remove records with duplicated indices from a data frame.
    + Updated `propat()' to produce file names that describe the output in detail.
    + Updated `gfb_bio.sql' to grab Lon/Lat data.

0.46  2008-09-10  RH
  * PBStools
    + Updated `M06_ADMB.r' code.
    + Added `packList()' to pack a global list with local objects.
    + Added `.plotDev()' to save a plot on the current device using information from a GUI.

0.45  2008-09-10  RH
  * PBStools
    + Updated `M06_ADMB.r' code to better display catch-age report files.
    + Changed the name of `plotHistory' to `plotCatch' to avoid conflict with function in `BRugs'.

0.44  2008-08-21  RH
  * PBStools
    + Changed `inst' directories `SQLcode' to `sql' and `ADMB' to `admb'.
    + Added `mapMaturity()' to plot relative occurrence of maturity stages by month.
    + Added `estOgive()' to estimate the ogive curve for some metric (e.g., age).

0.43  2008-08-15  RH
  * PBStools
    + Added `calcLenAge()' to fit length-age data using the von Bertalanffy model.
  * PBSdata
    + Added data object `parVec.vonB' with initial parameter estimates for the vonB (some species).
  * PBStools
    + Changed `calcSRFarea()' to `calcSRFA()' and fixed a minor bug.
  * PBSdata
    + Changed names of data objects `dbr.removals' to `dbr.rem' and `ymr.removals' to `ymr.rem'.
  * PBStools
    + Changed name of `gfb_morpho.sql' to `gfb_bio.sql'.

0.42  2008-08-12  RH
  * PBStools
    + Revised `propat()' to accept file at command line call.
    + Changed `catchAge()' to `reportCatchAge()' and made compatible with Anisa's `PBSadmb' package.
    + Removed `isWhat()' as this now appears in `PBSmodelling'.

0.41  2008-08-06  RH
  * PBStools
    + Added `histTail()' to plot a simple histogram with optional tail zoom-in.
    + Built with revised `Rbuild.bat' and `Rpaths.bat' to create an indexed HTML file (thanks Kurt Hornik).

0.40  2008-07-28  RH
  * PBStools
    + Revised `calcHabitat()' and `calcSurficial()' to use addPolys(...,colHoles="white") when sending to wmf.
    + Added `zapHoles()' to remove holes that will ultimately be filled (very preliminary).
    + Revised `getData()': hopefully more robust; also can now read XLS and DBF files.

0.39  2008-07-24  RH
  * PBStools
    + Updated `mapHist.txt'
    + Modified function `getData()'.
  * PBSmapx
    + Fixed `mono' font problem in legend ('cex' needs to be even)
    + Added check box for showing `Area of Occupancy'.
    + Changed global output list from `.PBSmap' to `PBSmap'

0.38  2008-07-22  RH
  * PBStools
    + Modified functions `plotFOScatch()' and `plotHistory'.
    + Modified `calcOccur()' to use weighted observations.

0.37  2008-07-21  RH
  * PBStools
    + Added function `clarify()' to summarize catch data into CLARA groups.
    + Modified function `plotFOScatch()' to also calculate annual summaries.
    + Modified function `plotHistory()' to properly  use `getFile()'.
  * PBSdata
    + Changed name of data object `FID' to `fos.fid'.

0.36  2008-07-18  RH
  * PBStools
    + Added function `calcOccur()' to calculate the percent occurrence of events in a PolySet.
    + Modified slightly functions `calcHabitat()' and `calcSurficial()'.

0.35  2008-07-17  RH
  * PBStools
    + Added function `calcSurficial' to calculate the intersection between geology and bathymetry.
  * PBSdata
    + Transferred `bctopo' from `PBSfishery' to `PBSdata'.
  * PBStools
    + Renamed the window description file folder from `windows' to `win' (to parallel `PBSmodelling').

0.34  2008-07-08  RH
  * PBStools
    + Changed module name to `M04_Bio' from `M04_Age'
    + Added function `histMetric' to display relative frequency of specified biology metric (e.g., length)
    + Added function `calcHabitat' to show potential habitat based on bathymetry.
    + Revised `PBSfishery.Rd' to report all fisheries related functions.

0.33  2008-07-07  RH
  * PBStools
    + Changed function name to `preferDepth()' from `plotDepth()'
    + Added total fishing effort histogram in background (preferDepth)
    + Added a few more GUI controls to `preferDepth'

0.32  2008-07-02  RH
  * PBSmapx
    + Modified `map()' to allow users to specify colours through `bg' and `fg' ('RGB' deprecated).

0.31  2008-06-19  RH
  * PBSmapx
    + Modified `map()' to alternate between `LL' and `UTM' coordinates, also can specify coastline file.
  * PBStools
    + Modified `getFile()' to allow variable strings as well as explicit files without delimiters.

0.30  2008-06-11  RH
  * PBStools
    + Added JTS's ADM suite (DOS menu system) and the vonB control files to `../inst/ADMB'.
    + Updated `PBSfishery.Rd'

0.29  2008-06-10  RH
  * PBSdata
    + Added dataset `pmfc'.
  * PBStools
    + Added functions `clipVector()' and `plotFOScatch()'.

0.28  2008-06-05  RH
  * PBSdata
    + Added datasets `species' and `FID' (and their Rd files)
  * PBStools
    + Added SQL query `fos_catch.sql' to get catch data by year, month, and major area from GFFOS.
    + Revised `getData()', `.getSQLdata()', `getFile()' to handle stoopid ORACLE queries.
    + Added JTS's function `isWhat()'.
    + Removed `showPack()' as this now exists in PBSmodelling as `showHelp()'.

0.27  2008-05-22  RH
  * PBStools
    + Added `glimmer()' to perform GLM analysis using the protocol of Schnute et al. (2004).

0.26  2008-05-07  RH
  * PBStools
    + Added `showPack()' to display R-package Table of Contents in browser window.
    + Added SQL code: pht_clara.sql, pht_catORF.sql, pht_glm.sql, gfb_tasu.sql; pht_concurrent.sql (revised)
    + Standardised global output list to `PBSfish' (except for `PBSmap' in map()).

0.25  2008-04-16  RH & NO
  * PBStools
    + Modified listTables(), getData(), .getSQLdata() to handle queries to an Oracle server DB
      - (e.g., oradev.world on ORADEV). Functions have additional arguments to choose servers.

0.24  2008-03-10  RH
  * PBStools
    + Modified propat() to accept a qualifier for otoliths broken & burnt and to render dynamic text colouring.
    + Modified propatWin.txt and propat.Rd

0.23  2008-03-07  RH
  * PBStools
    + Modified GUI and code for propat() to be more flexible (catch weighting, sex selection, etc.).

0.22  2008-03-04  RH
  * PBStools
    + Revised `trend' GUI to run an SQL query (LL); local file can still be specified.

0.21  2008-02-25  RH
  * PBStools
    + Revised `trend' GUI completely to accept any species.
    + Revised .trendy() in M03_trend.r and added .getSQLspp() to M03_trend.r

0.20  2008-02-20  RH
  * PBStools
    + Revised `plotDepth' to iron out a few bugs.

0.19  2008-02-19  RH
  * PBStools
    + Updated `plotDepth' to show cumulative catch superimposed on histogram.

0.18  2008-02-15  RH
  * PBSdata
    + Updated `iphc' (LL) with 4 new species (halibut, sablefish, turbot, lingcod).
    + Altered `testdatC' and `testdatR' to make vessels fictitious and jitter longitudes & latitudes 

0.17  2008-02-14  RH
  * PBSdata
    + Replaced `iphc' with new IPHC data from LL.
  * PBStools
    + Fixed small bug in `.funky' of Mod03_trend.r
    + Added new function `listTables' to see tables in an SQL database.
    + Added `date' field to `gfb_morpho.sql'

0.16  2007-11-09  RH
  * PBStools
    + Added makeCATtables() to summarise species catch by management fishery year using available SQL queries.
    + Added Module 5 - catchAge() based on JTS Schnute's code for POP.

0.15  2007-11-07  RH
  * PBStools
    + Modified makePMRtables to fix bugs.

0.14  2007-11-06  RH
  * PBStools
    + Added new/revised SQL code files for NAP/COSEWIC. Contributions by LL and NO.
    + Revised showError() function to use base's strwrap() function.
    + Revised getData() to allow extra arguments (mindep, maxdep, surveyid, fisheryid, logtype)
      - for use in some of the SQL queries.
    + Added new function makePMRtables() to calculate and collect (p, mu, rho) values for survey strata.

0.13  2007-10-01  RH
  * PBStools
    + Modified getSQLdata() to accept a flexible connection string regarding trusted vs. SQL IDs.
    + Modified plotDepthWin.txt and plotDepthHist.txt.
    + Added data object `.PBSserver.rda' in .\inst\SQLcode\ to hold the PACPBSGFDB server IP address
      - (to resolve poor DSN resolution through VPN).

0.12  2007-09-28  RH
  * PBStools
    + Added odbcConf() and createDSN() to provide means of creating User DSNs.
    + Modified runModulesWin.txt.

0.11  2007-09-27  RH
  * PBStools
    + Added runModules() to provide a menu of available modules.

0.10  2007-09-26  RH
  * PBStools
    + Altered plotDepth() somewhat.
    + Added .setCWD(), .setSpath(), .setWPath(), and .chooseFQT() for easier path manipulation.
    + Revised getData() and .getSQLdata() to:
      - (i) allow users access to SQL Server databases with SQL user ID and password;
      - (ii) allow fetching of SQL tables in addition to launching queries (previous functionality).

0.09  2007-09-25  RH
  * PBStools
    + Added function getSRFarea() to determine slope rockfish areas from (major,minor,locality) combinations.
    + Cleaned up Rd files.

0.08  2007-09-24  RH
  * PBStools
    + Fixed bug in getData(); changed order of arguments in getData()

0.07  2007-09-20  RH
  * PBStools
    + Changed name of getData() to getFile() and getTable() to getData()
    + Revised getData() to retrieve data files in addition to capturing data from remote DBs
    + Revised plotDepth() to reflect changes in getData().

0.06  2007-09-19  RH
  * PBStools
    + Added Module 4 called plotDepth() which taps into the SQL Server DB pacpbsgfdb.

0.05  2007-09-17  RH
  * PBStools
    + Added functions getTable() and .getSQLData() for ODBC to SQL.

0.04  2007-09-17  RH
  * PBSmapx
    + Added optional legend and choice of land colour to map().

0.03  2007-09-13  RH
  * PBStools
    + Adapted trend.r v.0.06 to be Module 3 in PBSfishery.

0.02  2007-08-29  RH
  * PBStools
    + Adapted propat.r v.0.03 to be Module 2 in PBSfishery.

0.01  2007-08-21  RH
  * PBSmapx
    + Adapted MapWin v.0.12 to be the initial module in PBSfishery.
